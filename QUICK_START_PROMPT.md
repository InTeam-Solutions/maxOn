# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞

## –¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ
```
/Users/asgatakmaev/Desktop/business/maxOn
```

## –ü—Ä–æ–µ–∫—Ç: maxOn
AI-–∫–æ—É—á –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–º–µ—Ä–µ–Ω–∏–π –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ MAX. Telegram-–±–æ—Ç —Å 6 –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ –Ω–∞ Python/FastAPI/Docker.

## –ö—Ä–∞—Ç–∫–æ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

```
maxOn/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ api-gateway/    ‚Üí Telegram bot (Aiogram 3)
‚îÇ   ‚îú‚îÄ‚îÄ orchestrator/   ‚Üí –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ core/          ‚Üí –ë–î –æ–ø–µ—Ä–∞—Ü–∏–∏ (PostgreSQL)
‚îÇ   ‚îú‚îÄ‚îÄ context/       ‚Üí –ò—Å—Ç–æ—Ä–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ llm/           ‚Üí OpenAI GPT-4o –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ worker/        ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (APScheduler)
‚îú‚îÄ‚îÄ shared/            ‚Üí –û–±—â–∏–µ —Å—Ö–µ–º—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml ‚Üí –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ
‚îú‚îÄ‚îÄ .env              ‚Üí –°–µ–∫—Ä–µ—Ç—ã (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ CLAUDE.md         ‚Üí –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ AGENT_CONTEXT.md  ‚Üí –†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–ß–ò–¢–ê–ô –°–ù–ê–ß–ê–õ–ê!)
```

## –ì–ª–∞–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
docker compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker compose ps

# –õ–æ–≥–∏
docker compose logs -f api-gateway
docker compose logs -f worker

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
docker compose build <service>
docker compose up -d <service>

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
docker compose down
```

## –ö–ª—é—á–µ–≤—ã–µ –ø–æ—Ä—Ç—ã

- **8004** - Core Service (REST API)
- **8001** - Orchestrator
- **8003** - LLM Service
- **8005** - Worker (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- **5432** - PostgreSQL
- **6379** - Redis

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

1. **Event** - —Å–æ–±—ã—Ç–∏—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ (—Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏)
2. **Goal** - —Ü–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (SMART –∞–Ω–∞–ª–∏–∑)
3. **Step** - —à–∞–≥–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π
4. **User** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
5. **Product** - —Ç–æ–≤–∞—Ä—ã –¥–ª—è —Ü–µ–ª–µ–π

## Worker - –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π ‚≠ê

4 —Ç–∏–ø–∞ –∑–∞–¥–∞—á:
- **Event reminders** - –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É (–∑–∞ N –º–∏–Ω—É—Ç –¥–æ —Å–æ–±—ã—Ç–∏—è)
- **Goal deadlines** - 9:00 (–∑–∞ 7, 3, 1 –¥–µ–Ω—å –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞)
- **Step reminders** - 20:00 (–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —à–∞–≥–∏)
- **Motivational** - 8:00 (–º–æ—Ç–∏–≤–∞—Ü–∏—è + —Ç–µ–∫—É—â–∏–µ —Ü–µ–ª–∏)

–ü—Ä–æ–≤–µ—Ä–∫–∞: `curl http://localhost:8005/jobs`

## –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥

### –ú–æ–¥–µ–ª–∏ –ë–î
1. –ò–∑–º–µ–Ω–∏—Ç—å: `services/core/app/models/<model>.py`
2. –û–±–Ω–æ–≤–∏—Ç—å: `shared/schemas/<model>.py`
3. –†–µ—Å—Ç–∞—Ä—Ç: `docker compose restart core`

### –ü—Ä–æ–º–ø—Ç—ã LLM
1. –ò–∑–º–µ–Ω–∏—Ç—å: `services/llm/app/prompts/*.py` (Jinja2)
2. –†–µ—Å—Ç–∞—Ä—Ç: `docker compose restart llm`

### Telegram UI
1. –ò–∑–º–µ–Ω–∏—Ç—å: `services/api-gateway/app/main.py`
2. –†–µ—Å—Ç–∞—Ä—Ç: `docker compose restart api-gateway`

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
1. –ò–∑–º–µ–Ω–∏—Ç—å: `services/worker/app/tasks/*.py`
2. **Rebuild**: `docker compose build worker && docker compose up -d worker`

## –í–∞–∂–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

**Database:**
```python
from shared.database import get_db
db = get_db()
with db.session_ctx() as session:
    # –æ–ø–µ—Ä–∞—Ü–∏–∏
```

**HTTP –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏:**
```python
import httpx
http_client = httpx.AsyncClient(timeout=30.0)
response = await http_client.get(f"{SERVICE_URL}/api/...")
```

**Telegram:**
```python
await bot.send_message(
    chat_id=user_id,  # –≤ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —á–∞—Ç–∞—Ö user_id = chat_id
    text="<b>HTML</b> —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    parse_mode="HTML"
)
```

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

‚ùå Worker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ‚Üí –ø—Ä–æ–≤–µ—Ä—å Dockerfile, –¥–æ–ª–∂–µ–Ω –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å core_models
‚ùå .env –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è ‚Üí —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ `/Users/.../maxOn/.env`
‚ùå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç ‚Üí `docker compose logs <service>`
‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ user —Å–æ–∑–¥–∞–Ω –∏ notification_enabled=true

## –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

1. ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
2. ‚úÖ .env —Ñ–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
3. ‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏: `docker compose up -d`
4. ‚ñ∂Ô∏è –ü—Ä–æ–≤–µ—Ä—å: `docker compose ps` (–≤—Å–µ Up)
5. ‚ñ∂Ô∏è Telegram: –æ—Ç–ø—Ä–∞–≤—å `/start` –±–æ—Ç—É
6. ‚ñ∂Ô∏è Worker: `curl http://localhost:8005/jobs`

## –ß—Ç–æ —á–∏—Ç–∞—Ç—å –¥–∞–ª—å—à–µ

1. **README.md** - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
2. **AGENT_CONTEXT.md** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (16KB, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
3. **CLAUDE.md** - –ø–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
4. **services/api-gateway/app/main.py** - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞ (3700 —Å—Ç—Ä–æ–∫)

---

## üéØ –¢–≤–æ—è –∑–∞–¥–∞—á–∞ –∫–∞–∫ AI-–∞–≥–µ–Ω—Ç–∞

–¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å —Å production-ready –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –¢–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è:

1. **–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–¥–∞:**
   - –ò–∑—É—á–∏ AGENT_CONTEXT.md –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
   - –°–ª–µ–¥—É–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º (—Å–º. –ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ)
   - –¢–µ—Å—Ç–∏—Ä—É–π –ª–æ–∫–∞–ª—å–Ω–æ: `docker compose up -d`
   - –ü—Ä–æ–≤–µ—Ä—è–π –ª–æ–≥–∏: `docker compose logs -f <service>`

2. **–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π:**
   - –ü—Ä–æ–≤–µ—Ä—å –∫–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
   - –û–±–Ω–æ–≤–∏ –º–æ–¥–µ–ª–∏ ‚Üí —Å—Ö–µ–º—ã ‚Üí —Å–µ—Ä–≤–∏—Å—ã ‚Üí API
   - Worker —Ç—Ä–µ–±—É–µ—Ç rebuild –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
   - –û–±–Ω–æ–≤–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

3. **–ü—Ä–∏ –¥–µ–±–∞–≥–µ:**
   - –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π —Å –ª–æ–≥–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—å health checks: `curl http://localhost:800X/health`
   - –ò—Å–ø–æ–ª—å–∑—É–π Swagger UI: http://localhost:8004/docs
   - –ü—Ä–æ–≤–µ—Ä—å –ë–î –Ω–∞–ø—Ä—è–º—É—é: `docker compose exec postgres psql -U initio -d initio`

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å .env
   - –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã/–ø–∞—Ä–æ–ª–∏
   - –í–∞–ª–∏–¥–∏—Ä—É–π user_id –≤–æ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

–£–¥–∞—á–∏! üöÄ

üìö –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–µ—Ç–∞–ª–∏ - –æ—Ç–∫—Ä–æ–π **AGENT_CONTEXT.md**
